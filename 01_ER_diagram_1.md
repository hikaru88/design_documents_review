# ER図1
## 全体
- 登録日、更新日のカラムが必要。
- 入荷したものを管理するテーブルがない。
- 論理削除を考慮していない。
- 複数の配送先情報を管理できるようになっていない。
- カートを持てるようになっていない。
- FKの管理人IDが不要。
- 管理人との関連付けが不要。

## 管理人
- エンドユーザとの関連付けが不要。
- 商品との関連付けが不要。

## カート
- 関連付く商品とカラムが重複している。
- PKと命名が明らかに異なり、入れるデータはカート内商品のため、カート内商品テーブルなどの命名が適切。
- 決済と多対多で関連付くことを考慮していない。

## 商品
- ジャンルの値がテーブル内の複数のレコードと重複する。
- アーティスト名の値がテーブル内の複数のレコードと重複する。
- レーベル名の値がテーブル内の複数のレコードと重複する。
- シングルアルバム内の曲名について、別エンティティで管理していないため、似たレコードの重複する。
- FKの管理人IDが不要。
- 管理人との関連付けが不要。
- 在庫数カラムは計算結果になり値が変動するため不必要。
- ディスクが複数枚ある場合について考慮されていない。

## 決済
- カートとテーブルを分けて記述する必要がない。
- 受取人氏名の情報を管理できていない。
- 配送先郵便番号の情報を管理できていない。
- 合計金額を保存できていない。
- 送料を管理するカラムがない。
- テーブル名の命名は管理側視点が適切であるため決済は不適切。
- カートと多対多で関連付くことを考慮していない。
- 購入日の役割がcreated_atと重複する。
- 購入した商品の情報をカートから呼び出そうとしている。

## 購入履歴
- PKがない。
- 決済とエンティティを分けて記述する必要がない。

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## 指摘事項
## 全体
- 購入時の価格はどこで保存しますか？(値段が変わった時に購入履歴の値段も変わってしまいます。)
- 入荷したものを管理する場所がありません。

## 商品
- 在庫数カラムは計算結果(= 入荷数 - 売上)のため、データとして保存するのに適しません。
- 複数枚ディスクも考慮されていません。

## カート
- 入れるデータはカート内商品のため、カート内商品テーブルなどの命名が適切です。

## 決済
- テーブルの命名は管理側視点が適切です。(決済はユーザー視点なので、受注など)
- 送料、合計金額を管理するカラムがありません。
- 購入日はcreated_atと役割が重複するので不要です。

## レビュー2回目
- すみません、↓のレビュー違うところに書いてました。下の理由により、受注詳細テーブルの不足の指摘をお願いします。
 - カート、決済周りのリレーションが異なることが最大のポイントです。カートと決済のリレーションはどのように用いますか？また、決済テーブルは商品とリレーションを持って、商品情報を購入履歴などで確認したいですが、決済テーブルと商品テーブルは多対多のため、中間テーブル(受注詳細)の必要性を指摘し、作成するよう促したいです。

