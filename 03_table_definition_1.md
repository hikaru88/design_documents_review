# テーブル定義書1
## 全体
- 指摘事項

## テーブル名
- 指摘事項

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


## 全体
- idカラムが無い。
  > PKのカラム名はどのテーブルでもidです。修正して下さい。

- テーブル名の最初の文字が大文字になっている。
  > テーブル名の最初の文字は小文字です。修正して下さい。

- テーブル名と同じワードを含むカラム名は改名する必要がある。
  > 基本的にカラム名にはテーブル名と同じワードは含めません。修正して下さい。


## admins
- テーブル名はadmins
  > テーブル名は複数形になります。修正して下さい。

- 管理者IDのカラム名は「admin_id」ではなく「id」。
  > PKのカラム名はidです。修正して下さい。

- 管理者idカラムのPKに○が必要。
  > 管理者idカラムはPKです。PKに◯をつけて下さい。

## users
- ユーザIDのカラム名は「user_id」ではなく「id」。
  > PKのカラム名はidです。修正して下さい。

- 「user_f_name、user_f_kana」が空欄で登録されてしまう。
  > 現状、「user_f_name、user_f_kana」が空欄で登録されてしまいます。notnullに◯をつけて下さい。もし、何か理由がある場合は教えて下さい。

- 名前で検索できるようにするなら「user_f_name、user_l_name、user_f_kana、user_l_kana」にindexを付けるべき。
  > 必須ではないですが、もしユーザーの名前で検索できるようにする場合は「user_f_name、user_l_name、user_f_kana、user_l_kana」にindexを付けてあげた方がいいです。

- 「user_f_name、user_l_name、user_f_kana、user_l_kana」に関して、lやfのように略さず、last、firstと記述するべき。
  > 「user_f_name、user_l_name、user_f_kana、user_l_kana」はfやlのように略さないでください。last、firstに修正して下さい。

- 退会ステータスのtrueとfalseがどっちが退会を意味しているかわかりづらいので備考に書くべき。さらにデータ型はBooleanが適切。
  > 退会ステータスのtrueとfalseがどっちが退会を意味しているかわかりづらいです。備考欄に書いて下さい。また、保存される値はtrueかfalseなので、データ型をBooleanに変更して下さい。

- 配送先住所カラムと住所カラムの使い分けがわからない。配送先を複数登録したい場合もあるので配送先住所テーブルを作るべき。
  > 配送先住所カラムと住所カラムはどのように使い分けますか？また、ユーザーが複数の配送先を登録したい場合はどうしますか？

- 電話番号や郵便番号のデータ型はstringが適切。integerだと0から始まる数列を正しく認識できない。
  > 電話番号、郵便番号カラムのデータ型はstringが適切です。integerだと0から始まる数列を正しく認識できません。


## products
- 商品IDのカラム名は「product_id」ではなく「id」。
  > PKのカラム名はidです。修正して下さい。

- 商品画像、refile使うのだったらカラム名は「cd_image_id」でデータ型はinteger。
  > 商品画像カラムですが、refileを使う場合はカラム名が「cd_image_id」でデータ型はintegerになります。

- 発売日カラムが必要
  > 発売日を保存したいので発売日カラムを追加して下さい。

- genre_id、artist_id、label_idはFK。
  > genre_id、artist_id、label_idはFKです。FKに◯をつけて下さい。

- stockは（入荷数 - 購買数）で計算できるので不要。
  > 在庫数は（入荷数 - 購買数）で計算できるので不要です。

- stock_statusは在庫数がわかればわかるので不要。
  > 在庫ステータスは在庫数がわかればわかるので不要です。


## discs
- ディスクの順番を記録したいので、カラム名の「track_num」は不適切。orderやdisc_numberなどが適切。
- 複数枚組を考慮してない。
  > ディスクの番号を記録するのにカラム名の「track_num」は不適切です。orderやdesc_numberなどに変更して下さい。


## songs
- disc_idのautoincrementは◯では無い。
  > disc_idはFKであるため、autoincrementは◯ではないです。修正して下さい。

- songカラムが曲名をもたせるのに、integerとなってる。
  > songカラムのデータ型がintegerになっています。曲名を保存したいのに数字しか保存できません。修正して下さい。

- songカラムが曲名を持つなら、カラム名はnameが適切。
  > songカラムに曲名を保存するなら、カラム名が不適切です。何が保存されているかわかるように変更して下さい。基本的に、カラム名にテーブル名と同じワードは入れてはダメです。

## labels
- products_idカラムは必要ない。
  > products_idを持つということは、labelsとproductsの関係は多対一になりますがよろしいですか？

- labelカラムがレーベル名を持つなら、カラム名はnameが適切。
  > labelカラムにレーベル名を保存するなら、カラム名が不適切です。何が保存されているかわかるように変更して下さい。基本的に、カラム名にテーブル名と同じワードは入れてはダメです。

## artists
- products_idカラムは必要ない。
  > products_idを持つということは、artistsとproductsの関係は多対一になりますがよろしいですか？

- artistsカラムがアーティスト名を持つなら、カラム名はnameが適切。
  > artistsカラムにアーティスト名を保存するなら、カラム名が不適切です。何が保存されているかわかるように変更して下さい。基本的に、カラム名にテーブル名と同じワードは入れてはダメです。

- artistsカラムがアーティスト名を持たせるのに、integerとなっている。
  > artistsカラムのデータ型がintegerになっています。アーティスト名を保存したいのに数字しか保存できません。修正して下さい。


## genres
- テーブル名はgenres
  > テーブル名は複数形になります。修正して下さい。

- products_idカラムは必要ない。
  > products_idを持つということは、genresとproductsの関係は多対一になりますがよろしいですか？

- genreカラムがジャンル名を持つなら、カラム名はnameが適切。
  > genreカラムにジャンル名を保存するなら、カラム名が不適切です。何が保存されているかわかるように変更して下さい。基本的に、カラム名にテーブル名と同じワードは入れてはダメです。

- genreカラムがジャンル名を持たせるのに、integerとなっている。
  > genreカラムのデータ型がintegerになっています。ジャンル名を保存したいのに数字しか保存できません。修正して下さい。


## cart_items
- テーブル名はcart_items
  > テーブル名は複数形になります。また、スネークケースで記述して下さい。

- user_idのautoincrementは◯では無い。
  > user_idはFKのため、autoincrementは◯ではありません。

- products_idのデータ型が書かれていない。
  > products_idのデータ型が記述されていません。

- buy numではなくbuy_num
  > buy numカラムですが、カラム名はスネークケースで記述して下さい。

- subtotalカラムは必要ない。
  > （商品価格 x 購入枚数）で計算できるのでsubtotalカラムは必要ないです。


## buy_details
- テーブル名の単語と単語の間にアンダーバーがない。
  > テーブル名はスネークケースで記述して下さい。

- テーブル名はoreder_detailsが適切。それに伴い、カラム名もbuy_numからorder_num、order_amount、amountなどに変更。
  > 命名は管理者の視点から行うため、テーブル名のbuy_detailsは不適切です。テーブル名の変更に伴い、カラム名も変更して下さい。

- buy_details_idではなくid
  > PKのカラム名はidです。修正して下さい。


## buys
- テーブル名は複数形。
  > テーブル名は複数形にして下さい。

- テーブル名はorderが適切。
  > 命名は管理者の視点から行うため、テーブル名のbuysは不適切です。変更して下さい。

- buy_idではなくid
  > PKのカラム名はidです。修正して下さい。

- 購入日は時間は必要ないのでデータ型はdateが適切。
  > デフォルトで保存される登録日時のカラムがあるため、購入日カラムは必要ないです。

- 郵便番号と住所のカラムが必要。
  > 送付先住所のカラムはありますが、郵便番号のカラムがありません。追加して下さい。

- 支払い方法カラムはpaymentが適切。また、enumを使用するためデータ型はintegerが適切。
  > 支払い方法カラム名のpayは不適切です。paymentなどに変更して下さい。また、enumを使用するのであればデータ型はintegerにして下さい。

- 支払い合計カラムのカラム名が不適切。priceなどが適切。
  > 支払い合計カラム名のstockは不適切です。priceなどに変更して下さい。


# フィードバック1回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## 全体
- モデル名の記載がない。
[fix]→テーブル名のみを書き出せばいいので、モデル名は必要のないように思われ。
[add]→テーブル名と同じワードを含む、カラムは改名する必要がある。
[add]→user_l_nameのlのような略語は使わない。この場合、きちんとlastと書くことを指摘。


## admins
[add]→PKにまるがついてないことも指摘。

## users
- 退会ステータスのtrueとfalseがどっちが退会を意味しているかわかりづらいので備考に書くべき。
[fix]→かつ、データ型がstringになってしまっている。
[add]→電話番号や郵便番号がintegerになっている。0始まりの数列が正しく認識されなくなる


## products
[add]→在庫数が分かれば、在庫状況はわかる為、不要。
[add]→在庫数は計算された値なので、廃止。（入荷数）ー（購買数）で計算できるため。

## discs
[add]→ディスクの順番はどのように管理するか
[add]→複数枚組を考慮してない。

## songs
[add]→songカラムが曲名をもつならば命名はnameなどとするべき。
[add]→songカラムが曲名をもたせるのに、integerとなってる。

## labels
[add]→labelカラムがレーベル名をもつならばnameなどとするべき

## artists
[add]→artistカラムがアーティスト名をもつならばnameなどとするべき
[add]→artistカラムが曲名をもたせるのに、integerとなってる。


## genres
[add]→genreカラムがジャンル名をもつならばnameなどとするべき
[add]→genreカラムが曲名をもたせるのに、integerとなってる。

## buy_details
- buy numではなくbuy_num
[fix]→そもそもbuy_numだと、意味が通らず、命名に問題あり。
[add]→buy_detailsだと受注詳細の意味じゃない。命名は「管理者の立場で行う」「動詞は不適。名詞にする。」そもそも「買う」では意味が通らない。「受注」「注文」と言った言葉に変更。

## buys
[add]→buyだと受注の意味じゃない。命名は「管理者の立場で行う」「動詞は不適。名詞にする。」そもそも「買う」では意味が通らない。「受注」「注文」と言った言葉に変更。
[add]→送付先住所はあるが、郵便番号と住所がない
[add]→支払い方法がstringになっており、enumを考慮してない。また、カラム名の命名も不適。
[add]→stock =　「支払い合計」？命名がおかしい。

# フィードバック2回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## discs
[add]→複数枚組を考慮してない。

# フィードバック3回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

- 合格です！！
