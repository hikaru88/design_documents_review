# テーブル定義書1
## 全体
- 指摘事項
  - カラム名の接頭辞にてテーブル名がついている。
  - created_atが全てユーザー登録日時になっている。
  - updated_atが全てユーザー更新日時になっている。
  - 配送先住所を管理するテーブルがない
  - 在庫を管理するテーブルがない。
  - テーブル名は小文字のスネークケースを使用する。

## テーブル名
- 指摘事項
  - adminsテーブル
    - テーブル名は複数形尚且つスネークケースなので、Adminではなくadminsにする。
    - idカラムのPKに◯がついていない。
    - idカラムのAUTO INCREMENTに◯がついていない。
    - idカラムにINDEXが必要。
  - userテーブル
    - user_l_nameやuser_f_nameのように略さず、last,firstとかくべき。
    - 郵便番号に0から始まる地域が存在するため、integer型にするべきでない。
    - 電話番号は0から始まるため、integer型にするべきではない。
    - 退会ステータスはTrue/Falseで管理するため、boolean型にする必要がある。また、概要にTrue/Falseで管理と記載した方が良い。
    - 配送先を複数登録することが考慮されていない。
    - member_statusが何を意味しているか不明。命名をわかりやすいものに変更すると良い。
  - productsテーブル
    - genre_id, label_id, artist_idカラムのFKに◯がついていない。
    - discsテーブルはproductsテーブルのこテーブルなので、disc_idは必要ない。
    - cd_titleカラムには、タイトルを保存するだけなので、「title」のみで十分
    - 在庫数カラムは必要ありません。
    - 在庫ステータスは在庫数が分かれば問題ないので必要ない。
    - cd_imageのデータ型はstringにするべき。
    - cd_imageのNOT NULLに◯をつけるべき。デフォルトに画像準備中と設定しているため、NOT NULLに◯をつけて問題ない。
    - 発売日を管理するカラムがない。
    - stock_statusはenumで管理するのが理想的。その場合、データ型はintegerとし、備考にその旨を記載すると良い。
  - discsテーブル
    - idカラムのINDEXに◯がついていない。
    - FKは「テーブル名単数系_id」が正しいため、products_idは誤り。
    - truk_numカラムの用途が不明です。
    - CDが複数枚ある商品を考慮した構造になっていない。
  - songsテーブル
    - idカラム(PK)が存在しない。
    - songカラムが曲名を持たせるカラムなのに、データ型がintegerになっている。
    - songカラムではなく、nameカラムの方が適切
  - labelsテーブル
    - idカラム(PK)が存在しない。
    - product_idは不要です。
    - labelカラムがレーベル名を持つならば、命名はnameなどが適切。
  - artistsテーブル
    - idカラム(PK)が存在しない。
    - product_idが不要です。
    - artistカラムが曲名を持つならば、命名はnameが適切です。
    - artistカラムがアーティスト名を持たせるのにintegerとなっています。
  - genresテーブル
    - テーブル名は複数形尚且つスネークケースなので、Genreではなくgenresにする。
    - idカラム(PK)が存在しない。
    - product_idは不要です。
    - genreカラムがジャンル名を持つならば、命名はnameなどが適切です。
    - genreカラムがジャンルを持たせるのにintegerとなっています。
   - cart_items
     - テーブル名は複数形尚且つスネークケースなので、Cart itemではなくcart_itemsにする。
     - idカラム(PK)が存在しない。 
     - FKがproducts_idとなっているのは間違いです。
     - buy numの意味が不明瞭です。amoutなどが適切です。カラム名はスネークケースで記述します。
     - 承継金額カラムは不要です。
   - buy_details
     - テーブル名は複数形尚且つスネークケースで記述する。
     - テーブル名がbuy_detailsだと受注詳細の意味になりません。order_detailsなどが適切です。
     - buy_numでは意味が不明瞭です。
   - buys
     - テーブル名がbuyだと不適切です。通常、テーブル名の命名は管理者の視点で行います。ここでの命名はorderなどが適切です。
     - 子テーブルのidをFKとして持っています。
     - payが何を意味しているか不明瞭です。
     - payカラムはenumで管理します。その場合、データ型をintegerとし、備考にその旨を記載する。
     - 送付先住所は、送付先住所が編集された場合でも対応できるように、受注テーブルに保存します。送付先住所カラムに加えて、郵便番号と住所カラムが必要です。
     - 購入日は時間の情報を持つ必要がないため、datetime型ではなくdate型を使用するべき。
     

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。



# レビュー1回目
## 全体
- カラム名の接頭辞にテーブル名がついています。通常、テーブル名と同じワードはカラムに使用しません。
- created_atが全てユーザー登録日時になっています。
- updated_atが全てユーザー更新日時になっています。

## users
- カラム名にuser_という接頭辞がついています。通常、テーブル名と同じワードはカラムに使用しません。
- user_l_nameやuser_f_nameのように略さずに、last、firstと書くようにしましょう。
- 配送先を複数登録することが考慮されていません。
- member_statusがなにを意味しているか不明です。一目でなにが保存されているかわかる命名にしましょう。

## products
- カラム名にproduct_という接頭辞がついています。通常、テーブル名と同じワードはカラムに使用しません。
- discsテーブルはproductsテーブルの子テーブルなので、disc_idは必要ありません。
- cd_titleカラムにはタイトルを保存するだけなので、命名は「title」のみで十分です。
- 在庫数カラムは必要ありません。（入荷数 - 売上数）から算出できるためです。
- 在庫ステータスは在庫数がわかればわかるので必要ありません。

## discs
- カラム名にdisc_という接頭辞がついています。通常、テーブル名と同じワードはカラムに使用しません。
- FKは「テーブル名単数形_id」となります。products_idは間違いです。
- track_numカラムの用途が不明です。
- 複数枚組が考慮されていません。

## songs
- songカラムが曲名を持つならば命名はnameなどが適切です。通常、テーブル名と同じワードをカラム名に使用しません。
- songカラムが曲名を持たせるのに、integerとなっています。

## labels
- product_idは不要です。
- labelカラムがレーベル名を持つならば命名はnameなどが適切です。通常、テーブル名と同じワードをカラム名に使用しません。

## artists
- product_idは不要です。
- artistカラムがアーティスト名を持つならば命名は
- artistカラムが曲名を持つならば命名はnameなどが適切です。通常、テーブル名と同じワードをカラム名に使用しません。
- artistカラムがアーティスト名を持たせるのにintegerとなっています。

## genres
- product_idは不要です。
- genreカラムがジャンル名を持つならば命名はnameなどが適切です。通常、テーブル名と同じワードをカラム名に使用しません。
- genreカラムがジャンル名を持たせるのにintegerとなっています。

## cart_item
- FKは「テーブル名単数形_id」となります。products_idは間違いです。
- buy numの意味が不明瞭です。amountなどが適切です。また、カラム名はスネークケースで記述します。
- 小計金額カラムは不要です。数量と商品の価格から算出できるためです。

## buy
- テーブル名がbuyだと不適切です。通常、テーブル名の命名は管理者の視点で行います。ここでの命名はorderなどが適切です。
- 子テーブルのidをFKとして持っています。
- payがなにを意味しているか不明です。
- 支払い合計カラムのカラム名を見直して下さい。
- 支払い方法はenumで管理します。データ型を見直して下さい。
- 送付先住所を編集した場合にも対応できるように受注テーブルに保存します。送付先住所カラムに加えて、郵便番号と住所カラムが必要です。

## buy_details
- テーブル名がbuy_detailsだと受注詳細の意味になりません。orders_detailsなどが適切です。
- buy_numでは意味が不明瞭です。
