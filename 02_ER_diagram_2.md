# ER図2
## 全体
- 指摘事項

## テーブル名
- 指摘事項

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。


## 全体
- 1対〇〇の1の方のカーディナリティが不完全。（0以上なのか、1以上なのかの記載が無い）
  > 1対〇〇の1の方のカーディナリティが不完全です。0以上なのか、1以上なのかわかるようにして下さい。

- 入荷管理用のテーブルが必要。（在庫数を (入荷数 - 購買数) で表すため）
  > どの商品をいくつ入荷したか？などのような、入荷管理はどこで行いますか？現在のままでは在庫数を計算することができません。


## 管理者
- 商品、エンドユーザとのリレーションは必要ない。
  > 管理者とエンドユーザ、管理者と商品のリレーションは必要ですか？必要なら理由を教えてください。


## エンドユーザ
- 複数の配送先を登録することを考慮されていない。
  > エンドユーザが複数の配送先を登録したい場合はどうしますか？

- 漢字の名カラムが無い。
  > 漢字の名カラムがありません。追加して下さい。


## 購入
- 購入と購入詳細のリレーションが逆（0以上対1になっているが、正しくは1以上1対1以上）
- 購入詳細idカラムはいらない
  > 購入と購入詳細のリレーションがおかしいです。現在のままだと、1種類の購入された商品に対して複数の配送先や支払い方法が指定されることになります。

- 配送ステータスカラムが必要
  > 配送ステータスを表示する必要があるので、配送ステータスカラムを追加して下さい。

- テーブル名は「注文」もしくは「受注」が適切
  > テーブル名の命名は管理者の立場からします。そのため、購入は不適切です。「注文」や「受注」に変更して下さい。

- デフォルトで作成日カラムがあるので購入日カラムは必要ない
  > ActiveRecordでデフォルトで作られる登録日カラムがあるため、購入日カラムは不要です。


## 購入詳細
- FKで購入idカラムが必要
  > 購入と購入詳細のリレーションがおかしいです。現在のままだと、1種類の購入された商品に対して複数の配送先や支払い方法が指定されることになります。

- FKで商品idカラムが必要
  > 現状、購入された商品情報を呼び出すことができません。商品とのリレーションを考えてみて下さい。

- テーブル名は「注文詳細」もしくは「受注詳細」が適切
  > テーブル名の命名は管理者の立場からします。そのため、購入詳細は不適切です。「注文詳細」や「受注詳細」に変更して下さい。

- 購入時価格を記録するカラムが必要。
  > 購入時とその後で商品価格が変わった場合はどうしますか？


## 曲名
- 曲名とディスクのリレーションが逆(一対多になっているが、正しくは多対一)
- FKでディスクidカラムが必要。
  > 現状、1枚のディスクには1つの曲しか登録できないことになっています。曲名とディスクのリレーションを考えてみて下さい。

- 曲順を表すためorderカラムが必要。
  > 曲順を保存するためのカラムを追加して下さい。


## ディスク
- ディスクと商品のリレーションが逆（一対多になっているが、正しくは多対一）
- FKで商品idカラムが必要。
  > 現状、1つの商品に対して1枚のディスクしか登録できないことになっています。ディスクと商品のリレーションを考えてみて下さい。

- 曲名idカラムは必要ない。
  > 現状、1枚のディスクには1つの曲しか登録できないことになっています。曲名とディスクのリレーションを考えてみて下さい。

- トラックNo.カラムは必要ない。
  > 曲順はディスクではなく曲カラムで管理します。トラックNo.カラムは必要ありません。

- 複数のディスクに対応するため、orderカラムが必要。
  > 複数のディスクを保存できるように、orderカラムを追加して下さい。


## ジャンル
- 商品とのカーディナリティが間違っている。（正しくは0以上）
  > 商品とのカーディナリティは正しいですか？商品は後でジャンルのみを登録したい場合はどうしますか？

- ジャンルカラムの命名が不適切。（何が保存されるかを表したいので「名前」などのカラム名にする）（基本的にテーブル名と同じ名前をカラム名にしてはいけない）
  > ジャンルカラムの命名が不適切です。基本的にテーブル名と同じ名前をカラム名にしてはいけません。何が保存されるかをわかるように「名前」などに変更して下さい。


## レーベル
- 商品とのカーディナリティが間違っている。（正しくは0以上）
  > 商品とのカーディナリティは正しいですか？商品は後でレーベルのみを登録したい場合はどうしますか？

- レーベルカラムの命名が不適切。（何が保存されるかを表したいので「名前」などのカラム名にする）（基本的にテーブル名と同じ名前をカラム名にしてはいけない）
  > レーベルカラムの命名が不適切です。基本的にテーブル名と同じ名前をカラム名にしてはいけません。何が保存されるかをわかるように「名前」などに変更して下さい。


## アーティスト
- 商品とのカーディナリティが間違っている。（正しくは0以上）
  > 商品とのカーディナリティは正しいですか？商品は後でアーティストのみを登録したい場合はどうしますか？

- アーティストカラムの命名が不適切。（何が保存されるかを表したいので「名前」などのカラム名にする）（基本的にテーブル名と同じ名前をカラム名にしてはいけない）
  > アーティストカラムの命名が不適切です。基本的にテーブル名と同じ名前をカラム名にしてはいけません。何が保存されるかをわかるように「名前」などに変更して下さい。


## 商品
- カートアイテムとのカーディナリティが間違っている。（正しくは0以上）
  > カートアイテムに必ず商品が登録されてなくてはいけませんか？カートアイテムとのカーディナリティを見直してみて下さい。

- 商品と購入詳細のリレーションが無い。（1以上1対0以上で結ぶ必要がある）
  > 現状、購入詳細は商品情報を引っ張ってくることができません。商品と購入詳細のリレーションを見直してみて下さい。

- ディスクidカラムは必要ない。
  > 現状、1つの商品に対して1枚のディスクしか登録できないことになっています。ディスクと商品のリレーションを考えてみて下さい。

- 発売日カラムが必要。
  > 発売日を管理したいので発売日カラムを追加して下さい。

- ディスク枚数カラムは必要ない。
  > 商品とディスクが紐づいているのでディスク枚数は確認できます。ディスク枚数カラムは必要ありません。

- 在庫数カラムは必要ない。
  > （入荷数 - 購買数）で計算できるので在庫数カラムは必要ないです。

## カートアイテム
- 小計金額カラムは必要ない。
  > （商品価格 x 購入枚数）で計算できるので小計金額カラムは必要ないです。

- カートアイテムidカラムがない。
  > PKの記述がないです。追加して下さい。



# フィードバック

## 全体
- 1対〇〇の1の方のカーディナリティが不完全。（0以上なのか、1以上なのかの記載が無い）
    - 正解です○

## 管理者
- 商品、エンドユーザとのリレーションは必要ない。
    - 正解です○

## エンドユーザ
- 複数の配送先を登録することを考慮されていない。
    - 配送先テーブルがないという指摘になります
- 漢字の名カラムが無い。
    - 正解です○

    - あとはPKのカラムがおかしいです。

## 購入
- 購入と購入詳細のリレーションが逆（0以上対1になっているが、正しくは1以上1対1以上）
- 購入詳細idカラムはいらない
- 配送ステータスカラムが必要
    - 上記正解です！

    - 購入というテーブル名が好ましくないです
    - 購入日カラムはいらない

## 購入詳細
- FKで購入idカラムが必要
- FKで商品idカラムが必要
    - 上記正解です！

    - 購入詳細というテーブル名が好ましくないです
    - 購入時の価格を保持するカラムがない

## 曲名
- 曲名とディスクのリレーションが逆(一対多になっているが、正しくは多対一)
- トラックNo.カラムが必要。
- FKでディスクidカラムが必要。

    - 完璧！！！

## ディスク
- ディスクと商品のリレーションが逆（一対多になっているが、正しくは多対一）
- 曲名idカラムは必要ない。
- トラックNo.カラムは必要ない。
- ディスクNo.カラムが必要。
- FKで商品idカラムが必要。

    -  上記完璧です！！

## ジャンル
- 商品とのカーディナリティが間違っている。（正しくは0以上）
    - 上記正解です

    - ジャンルというカラムに何が入るか不明

## レーベル
- 商品とのカーディナリティが間違っている。（正しくは0以上）
    - 上記正解です

    - レーベルというカラムに何が入るか不明

## アーティスト
- 商品とのカーディナリティが間違っている。（正しくは0以上）
    - 上記正解です

    - アーティストというカラムに何が入るか不明

## 商品
- カートアイテムとのカーディナリティが間違っている。（正しくは0以上）
- 商品と購入詳細のリレーションが無い。（1以上1対0以上で結ぶ必要がある）
- ディスクidカラムは必要ない。
- 発売日カラムが必要。

    - 上記完璧です
    - ディスク枚数カラムの必要性
    - 在庫数カラムの必要性

## カートアイテム
- 小計金額カラムは必要ない。
    - 上記正解です！

    - id（PK)がないです

# フィードバック2回目
[add]→付け加えなければいけないところ
[fix]→修正が必要なところ
[comment]→その他コメント（修正ではないけど、確認して欲しいポイントです）

## 全体
- 1対〇〇の1の方のカーディナリティが不完全。（0以上なのか、1以上なのかの記載が無い）
[add]→入荷管理用のテーブルがない。在庫数を（入荷数）ー（購買数）で表すようにする為

## 曲名
- トラックNo.カラムが必要。
[fix]→曲順を管理するためのカラムのことですよね？？No.だと意味が明確でなく、カラム名は小文字。

## レーベル
- レーベルカラムの命名が不適切。（何が保存されるかを表したいので「名前」などのカラム名にする）
[comment]→この命名が不適切な他の要因としては、基本的にテーブル名とカラム名に同じ言葉を含めることがあまりいいことでないからである。

# フィードバック3回目
- 合格です！！！
